<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test PIC-SURE Connection</title>
    <script type="text/javascript" src="jquery.min.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shCore.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/scripts/shBrushJScript.js"></script>
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCore.css" />
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shCoreDefault.css" />
    <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/SyntaxHighlighter/3.0.83/styles/shThemeDefault.css" />
    <style>
        input { width:100%}
        ul { list-style-type:none; width:400px; }
    </style>

    <script type="text/javascript" src="require.js"></script>
</head>
<body>
    <form>
        <ul>
            <li>
                <div>PIC-SURE End-point</div>
                <input id="endpoint" placeholder="http://localhost:8080/PIC-SURE/" disabled>
            </li>
            <li>
                <div>PIC-SURE Security Token</div>
                <input id="token" disabled>
            </li>
            <li>
                <div><button id="btnSetup">Setup</button></div>
            </li>
        </ul>

    </form>
    <script type="syntaxhighlighter" class="brush: js"><![CDATA[
      temp_PicSure_Endpoint = "<this had already been set in the console>";
      temp_PicSure_Token = "<this had already been set in the console>";

      PicSureClient = require('PIC-SURE_Connector');
      connection = PicSureClient.connect(temp_PicSure_Endpoint, temp_PicSure_Token);
      connection.list();

    ]]></script>

    <script type="text/javascript">
        require(['PIC-SURE_Connector']);

        jQuery(document).ready(function() {
            console.warn("execute");
            SyntaxHighlighter.all();
        });
        jQuery.get("/.well-known/PIC-SURE/proxy_API/config", function(results) {
            // load the configuration info into local variables
            temp_PicSure_Endpoint = results.endpoint;
            temp_PicSure_Token = results.token;
        })
    </script>
</body>
</html>
